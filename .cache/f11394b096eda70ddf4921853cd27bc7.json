{"id":"../src/MobxStateManager.ts","dependencies":[{"name":"/Users/saferunner/workspace/web/mobx-form-validation/tsconfig.json","includedInParent":true,"mtime":1536630836801},{"name":"/Users/saferunner/workspace/web/mobx-form-validation/package.json","includedInParent":true,"mtime":1536731280041},{"name":"ramda","loc":{"line":3,"column":24},"parent":"/Users/saferunner/workspace/web/mobx-form-validation/src/MobxStateManager.ts","resolved":"/Users/saferunner/workspace/web/mobx-form-validation/node_modules/ramda/es/index.js"}],"generated":{"js":"\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ramda_1 = require(\"ramda\");\n\nvar MobxStateManager = function MobxStateManager(args) {\n    _classCallCheck(this, MobxStateManager);\n\n    var initialValues = args.initialValues,\n        fieldsSpec = args.fieldsSpec;\n\n    this.initialValues = initialValues || {};\n    this.fieldsSpec = fieldsSpec;\n    this.inputProps = ramda_1.mapObjIndexed(function (value, key) {\n        return {\n            onBlur: function onBlur(evt) {\n                // ...\n            }\n        };\n    }, fieldsSpec);\n};\n\nexports.MobxStateManager = MobxStateManager;","map":{"mappings":[{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":4}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":14}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":22}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":29}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":6,"column":30}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":8,"column":4}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":8,"column":23}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":8,"column":49}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":8,"column":53}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":8,"column":55}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":9,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":11,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":11,"column":8}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":11,"column":21}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":11,"column":24}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":11,"column":28}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":11,"column":29}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":11,"column":42}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":12,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":12,"column":8}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":12,"column":18}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":12,"column":21}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":12,"column":25}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":12,"column":26}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":46,"column":3},"generated":{"line":12,"column":36}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":14,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":14,"column":9}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":14,"column":22}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":25},"generated":{"line":14,"column":25}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":14,"column":42}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":14,"column":44}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":15,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":15,"column":9}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":15,"column":19}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":15,"column":22}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":15,"column":32}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":16,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":16,"column":9}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":16,"column":19}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":16,"column":22}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":16,"column":30}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":16,"column":43}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":16,"column":44}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":7},"generated":{"line":16,"column":54}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":16,"column":59}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":16,"column":61}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":16,"column":64}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":17,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":17,"column":15}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":18,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":18,"column":20}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":56,"column":17},"generated":{"line":18,"column":36}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":18,"column":39}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":56,"column":36},"generated":{"line":18,"column":41}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":19,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":58,"column":9},"generated":{"line":20,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":21,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":21,"column":9}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":22,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":22,"column":5}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":22,"column":7}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":22,"column":17}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":22,"column":18}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":62,"column":3},"generated":{"line":23,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":25,"column":0}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":25,"column":8}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":25,"column":24}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":25,"column":27}},{"source":"../src/MobxStateManager.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":25,"column":43}}],"sources":{"../src/MobxStateManager.ts":"import { mapObjIndexed } from 'ramda';\nimport {\n  FocusEventHandler,\n} from 'react';\nimport { Observable } from 'rxjs/observable';\nimport {\n  BaseErrorValuesType,\n  DefaultErrorValuesType,\n} from './types/ErrorValueType';\nimport {\n  ParsedValueProperty,\n  ValueProperty,\n} from './types/ExtractType';\nimport { FormSpecBase } from './types/FormSpecBase';\nimport { MaybePromise } from './types/MaybePromise';\n\nexport class MobxStateManager <\n  FormSpec extends FormSpecBase,\n  FormData = {[key in keyof FormSpec]: ValueProperty<FormSpec[key] > },\n  FormDataParsed = {[key in keyof FormSpec]: ParsedValueProperty<FormSpec[key]>},\n  ErrorValues extends BaseErrorValuesType<FormSpec>\n    = DefaultErrorValuesType<FormSpec>\n> {\n  initialValues: Partial<FormData>;\n  errors?: ErrorValues;\n\n  fieldsSpec: FormSpec;\n\n  inputProps: {\n    [key in keyof FormSpec]: {\n      onBlur: FocusEventHandler;\n      onFocus: FocusEventHandler;\n    }\n  };\n  values?: {[key in keyof FormSpec]: ValueProperty<FormSpec[key] > };\n\n  constructor(args: {\n    initialValues?: Partial<FormData>;\n    fieldsSpec: FormSpec;\n    validator? (\n      formState: string,\n    ): MaybePromise<null | ErrorValues>;\n    streamValidatorFactory? (\n      formStateStream: Observable<string>,\n    ): Observable<null | ErrorValues>;\n  }) {\n    const {\n      initialValues,\n      fieldsSpec,\n    } = args;\n\n    this.initialValues = initialValues || {};\n    this.fieldsSpec = fieldsSpec;\n    this.inputProps = mapObjIndexed(\n      (value, key) => ({\n        onBlur: (evt: FocusEvent) => {\n          // ...\n        },\n      }),\n      fieldsSpec,\n    ) as any;\n  }\n}\n"},"lineCount":null}},"hash":"3a15334091269050883d4a5bb8ac09b8","cacheData":{"env":{}}}